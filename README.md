# Vespera-Coze

> åŸºäºå¤šæ¨¡å‹å¹¶è¡ŒéªŒè¯çš„æ™ºèƒ½åˆçº¦å®‰å…¨å®¡è®¡ä¸å¥—åˆ©æœºä¼šæŒ–æ˜ç³»ç»Ÿ

[![GitHub Actions](https://github.com/jssyxd/vespera-coze/actions/workflows/scan.yml/badge.svg)](https://github.com/jssyxd/vespera-coze/actions)

## ğŸš€ æ ¸å¿ƒç‰¹æ€§

- **ğŸ” å¤šæ¨¡å‹å¹¶è¡ŒéªŒè¯**: é›†æˆ DeepSeekã€GLMã€MiniMaxã€Kimi ç­‰å¤šä¸ªå¤§æ¨¡å‹ï¼Œåˆ©ç”¨"æŒ¯è¡æ•ˆåº”"é™ä½è¯¯æŠ¥ç‡
- **ğŸ¤– å®Œå…¨è‡ªåŠ¨åŒ–**: GitHub Actions + Supabaseï¼Œé›¶æˆæœ¬äº‘ç«¯éƒ¨ç½²
- **ğŸ’ æ¼æ´èµé‡‘æ”¯æŒ**: è‡ªåŠ¨ç”Ÿæˆä¸“ä¸šæŠ¥å‘Šï¼Œæ”¯æŒ Immunefi/HackerOne æäº¤
- **ğŸ“ˆ å¥—åˆ©æœºä¼šæŒ–æ˜**: Mode2 æ··åˆæ‰«ææ¨¡å¼ï¼Œå‘ç°æ½œåœ¨å¥—åˆ©ç©ºé—´
- **ğŸŒ å¤šé“¾æ”¯æŒ**: Ethereumã€BSCã€Polygonã€Arbitrum ç­‰ 61 æ¡é“¾

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      GitHub Actions                         â”‚
â”‚           (å®šæ—¶è§¦å‘ / æ‰‹åŠ¨è§¦å‘ / Webhookè§¦å‘)                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   Vespera Scanner   â”‚â—„â”€â”€â–ºâ”‚ Supabase DB  â”‚    â”‚   LLM API    â”‚
    â”‚   (Go + Slither)    â”‚    â”‚ (PostgreSQL) â”‚    â”‚139.224.113.163â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  EVM Blockchain     â”‚
    â”‚ (Mainnet/BSC/ç­‰)    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“‹ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒå‡†å¤‡

éœ€è¦ä»¥ä¸‹è´¦å·å’Œå‡­è¯ï¼š

| æœåŠ¡ | ç”¨é€” | è·å–æ–¹å¼ |
|------|------|---------|
| **GitHub** | CI/CD å¹³å° | [github.com](https://github.com) |
| **Supabase** | äº‘æ•°æ®åº“ | [supabase.com](https://supabase.com) |
| **Etherscan** | é“¾ä¸Šæ•°æ® | [etherscan.io/myapikey](https://etherscan.io/myapikey) |
| **è‡ªå»º LLM** | AI åˆ†æ | å·²é…ç½®: `139.224.113.163:8317` |

### 2. éƒ¨ç½²æ­¥éª¤

```bash
# 1. å…‹éš†ä»“åº“
git clone https://github.com/jssyxd/vespera-coze.git
cd vespera-coze

# 2. é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env
# ç¼–è¾‘ .env å¡«å…¥ä½ çš„å‡­è¯

# 3. è¿è¡Œéƒ¨ç½²è„šæœ¬
chmod +x scripts/deploy.sh
./scripts/deploy.sh
```

### 3. é…ç½® GitHub Secrets

åœ¨ä»“åº“ Settings â†’ Secrets and variables â†’ Actions ä¸­æ·»åŠ ï¼š

```
SUPABASE_HOST=db.xxx.supabase.co
SUPABASE_PORT=5432
SUPABASE_USER=postgres
SUPABASE_PASSWORD=your_password
SUPABASE_DB=postgres
AI_API_KEY=api
AI_BASE_URL=http://139.224.113.163:8317/v1
ETHERSCAN_API_KEY=your_etherscan_key
```

### 4. åˆå§‹åŒ–æ•°æ®åº“

åœ¨ Supabase SQL Editor ä¸­æ‰§è¡Œï¼š`scripts/init_db.sql`

### 5. è§¦å‘é¦–æ¬¡æ‰«æ

1. è®¿é—® Actions é¡µé¢
2. ç‚¹å‡» "Vespera Scan" å·¥ä½œæµ
3. ç‚¹å‡» "Run workflow"
4. æŸ¥çœ‹æ‰§è¡Œæ—¥å¿—

## ğŸ”§ ä¸‰ç§æ‰«ææ¨¡å¼

| æ¨¡å¼ | ç”¨é€” | ç¤ºä¾‹å‘½ä»¤ |
|------|------|---------|
| **Mode 1** | å®šå‘æ‰«æç‰¹å®šåˆçº¦ | `./vespera -m mode1 -c eth -addr 0x...` |
| **Mode 2** | æ··åˆæ‰«æï¼ˆæ¼æ´+å¥—åˆ©ï¼‰ | `./vespera -m mode2 -c eth -range 20000000-20000200` |
| **Mode 3** | å®æ—¶ç›‘å¬æ–°åˆçº¦ | `./vespera -m mode3 -c eth` |

## ğŸ“Š æ‰«ææŠ¥å‘Šç¤ºä¾‹

```markdown
# Vespera Scan Report

**Scan Time:** 2025-01-09T12:00:00Z
**Duration:** 15m30s
**Contracts Scanned:** 50

## ğŸš¨ Vulnerabilities

### [HIGH] Reentrancy
- **Description:** External call before state update
- **Line:** 45
- **Recommendation:** Use Checks-Effects-Interactions pattern

## ğŸ’° Arbitrage Opportunities

### Price Discrepancy
- **Description:** Price difference between DEXs
- **Expected Profit:** 0.05 ETH
```

## ğŸ’° å•†ä¸šåŒ–è·¯å¾„

### 1. æ¼æ´èµé‡‘ (çŸ­æœŸ)
- å¹³å°: [Immunefi](https://immunefi.com/), [HackerOne](https://hackerone.com)
- æ”¶ç›Š: Critical $50K-$1M, High $10K-$100K
- ä½¿ç”¨ Mode1 å®šå‘æ‰«æçƒ­é—¨ DeFi åè®®

### 2. å¥—åˆ©æœºå™¨äºº (ä¸­æœŸ)
- ä½¿ç”¨ Mode2 å‘ç°å¥—åˆ©æœºä¼š
- æµ‹è¯•ç½‘éªŒè¯ â†’ ä¸»ç½‘éƒ¨ç½²
- é¢„æœŸ: æœˆæ”¶ç›Š 1-5 ETH

### 3. SaaS æœåŠ¡ (é•¿æœŸ)
- Web ç•Œé¢ + API æœåŠ¡
- è®¢é˜…åˆ¶æ”¶è´¹
- å®šä»·: å…è´¹ç‰ˆ / $99æœˆ / $999æœˆ

## ğŸ“ é¡¹ç›®ç»“æ„

```
vespera-coze/
â”œâ”€â”€ .github/workflows/     # GitHub Actions
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ cmd/vespera/       # ä¸»ç¨‹åºå…¥å£
â”‚   â”œâ”€â”€ internal/
â”‚   â”‚   â”œâ”€â”€ ai/            # AI å®¢æˆ·ç«¯
â”‚   â”‚   â”œâ”€â”€ config/        # é…ç½®ç®¡ç†
â”‚   â”‚   â””â”€â”€ scanner/       # æ‰«æå¼•æ“
â”‚   â””â”€â”€ go.mod
â”œâ”€â”€ config/                # é…ç½®æ–‡ä»¶
â”œâ”€â”€ scripts/               # éƒ¨ç½²è„šæœ¬
â”œâ”€â”€ reports/               # æ‰«ææŠ¥å‘Šè¾“å‡º
â””â”€â”€ README.md
```

## ğŸ” å®‰å…¨è¯´æ˜

- æ‰€æœ‰æ•æ„Ÿä¿¡æ¯é€šè¿‡ GitHub Secrets ç®¡ç†
- æ•°æ®åº“ä½¿ç”¨ Row Level Security (RLS)
- API Key å®šæœŸè½®æ¢

## ğŸ“„ è®¸å¯è¯

MIT License - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

## ğŸ™ è‡´è°¢

- åŸé¡¹ç›®: [VectorBits/Vespera](https://github.com/VectorBits/Vespera)
- æ–‡æ¡£: [vespera-doc.vectorbits.net](https://vespera-doc.vectorbits.net/)

---

**å…è´£å£°æ˜**: æœ¬å·¥å…·ä»…ç”¨äºå®‰å…¨ç ”ç©¶å’Œæ•™è‚²ç›®çš„ã€‚ä½¿ç”¨æœ¬å·¥å…·å‘ç°çš„æ¼æ´è¯·éµå¾ªè´Ÿè´£ä»»çš„æŠ«éœ²åŸåˆ™ã€‚
